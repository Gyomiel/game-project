```js
window.addEventListener("keydown", function (e) {
    let collisionDetected = false;
    for (let i = 0; i < enemyArray.length; i++) {
        if (character.checkCollisionsWithEnemies(enemyArray)) {
            collisionDetected = true;
            break;
        }
    }

    if (!collisionDetected) {
        switch (e.key) {
            case "a":
                character.directionX = -1;
                character.speed = 10;
                character.characterMovementX();
                break;
            case "d":
                character.directionX = 1;
                character.speed = 10;
                character.characterMovementX();
                break;
            case "w":
                character.directionY = -1;
                character.speed = 10;
                character.characterMovementY();
                break;
            case "s":
                character.directionY = 1;
                character.speed = 10;
                character.characterMovementY();
                break;
            case " ":
                character.attacking = true;
                break;
        }
    }
});
```